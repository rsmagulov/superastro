-- AUTO-GENERATED. DO NOT EDIT BY HAND.

-- GLOBAL exact keys for elements/polarity/modality (aligned with key_builder)

BEGIN;

UPDATE knowledge_items
SET text = 'Стихия «Огонь»: количество планет/точек (любой уровень).', priority = 89, is_active = 1, meta_json = '{}'
WHERE key = 'natal.elements.fire.count.any' AND locale = 'ru-RU'
  AND (topic_category = '' OR topic_category IS NULL)
  AND (text IS NULL OR LENGTH(TRIM(text))=0);

INSERT INTO knowledge_items (key, topic_category, locale, text, priority, created_at, is_active, meta_json)
SELECT 'natal.elements.fire.count.any', '', 'ru-RU', 'Стихия «Огонь»: количество планет/точек (любой уровень).', 89, CURRENT_TIMESTAMP, 1, '{}'
WHERE NOT EXISTS (
  SELECT 1 FROM knowledge_items
  WHERE key = 'natal.elements.fire.count.any' AND locale = 'ru-RU' AND (topic_category = '' OR topic_category IS NULL)
);

UPDATE knowledge_items
SET text = 'Стихия «Огонь»: количество попало в bucket 0.', priority = 89, is_active = 1, meta_json = '{}'
WHERE key = 'natal.elements.fire.count.0' AND locale = 'ru-RU'
  AND (topic_category = '' OR topic_category IS NULL)
  AND (text IS NULL OR LENGTH(TRIM(text))=0);

INSERT INTO knowledge_items (key, topic_category, locale, text, priority, created_at, is_active, meta_json)
SELECT 'natal.elements.fire.count.0', '', 'ru-RU', 'Стихия «Огонь»: количество попало в bucket 0.', 89, CURRENT_TIMESTAMP, 1, '{}'
WHERE NOT EXISTS (
  SELECT 1 FROM knowledge_items
  WHERE key = 'natal.elements.fire.count.0' AND locale = 'ru-RU' AND (topic_category = '' OR topic_category IS NULL)
);

UPDATE knowledge_items
SET text = 'Стихия «Огонь»: количество попало в bucket 1.', priority = 89, is_active = 1, meta_json = '{}'
WHERE key = 'natal.elements.fire.count.1' AND locale = 'ru-RU'
  AND (topic_category = '' OR topic_category IS NULL)
  AND (text IS NULL OR LENGTH(TRIM(text))=0);

INSERT INTO knowledge_items (key, topic_category, locale, text, priority, created_at, is_active, meta_json)
SELECT 'natal.elements.fire.count.1', '', 'ru-RU', 'Стихия «Огонь»: количество попало в bucket 1.', 89, CURRENT_TIMESTAMP, 1, '{}'
WHERE NOT EXISTS (
  SELECT 1 FROM knowledge_items
  WHERE key = 'natal.elements.fire.count.1' AND locale = 'ru-RU' AND (topic_category = '' OR topic_category IS NULL)
);

UPDATE knowledge_items
SET text = 'Стихия «Огонь»: количество попало в bucket 2.', priority = 89, is_active = 1, meta_json = '{}'
WHERE key = 'natal.elements.fire.count.2' AND locale = 'ru-RU'
  AND (topic_category = '' OR topic_category IS NULL)
  AND (text IS NULL OR LENGTH(TRIM(text))=0);

INSERT INTO knowledge_items (key, topic_category, locale, text, priority, created_at, is_active, meta_json)
SELECT 'natal.elements.fire.count.2', '', 'ru-RU', 'Стихия «Огонь»: количество попало в bucket 2.', 89, CURRENT_TIMESTAMP, 1, '{}'
WHERE NOT EXISTS (
  SELECT 1 FROM knowledge_items
  WHERE key = 'natal.elements.fire.count.2' AND locale = 'ru-RU' AND (topic_category = '' OR topic_category IS NULL)
);

UPDATE knowledge_items
SET text = 'Стихия «Огонь»: количество попало в bucket 3.', priority = 89, is_active = 1, meta_json = '{}'
WHERE key = 'natal.elements.fire.count.3' AND locale = 'ru-RU'
  AND (topic_category = '' OR topic_category IS NULL)
  AND (text IS NULL OR LENGTH(TRIM(text))=0);

INSERT INTO knowledge_items (key, topic_category, locale, text, priority, created_at, is_active, meta_json)
SELECT 'natal.elements.fire.count.3', '', 'ru-RU', 'Стихия «Огонь»: количество попало в bucket 3.', 89, CURRENT_TIMESTAMP, 1, '{}'
WHERE NOT EXISTS (
  SELECT 1 FROM knowledge_items
  WHERE key = 'natal.elements.fire.count.3' AND locale = 'ru-RU' AND (topic_category = '' OR topic_category IS NULL)
);

UPDATE knowledge_items
SET text = 'Стихия «Огонь»: количество попало в bucket 4p.', priority = 89, is_active = 1, meta_json = '{}'
WHERE key = 'natal.elements.fire.count.4p' AND locale = 'ru-RU'
  AND (topic_category = '' OR topic_category IS NULL)
  AND (text IS NULL OR LENGTH(TRIM(text))=0);

INSERT INTO knowledge_items (key, topic_category, locale, text, priority, created_at, is_active, meta_json)
SELECT 'natal.elements.fire.count.4p', '', 'ru-RU', 'Стихия «Огонь»: количество попало в bucket 4p.', 89, CURRENT_TIMESTAMP, 1, '{}'
WHERE NOT EXISTS (
  SELECT 1 FROM knowledge_items
  WHERE key = 'natal.elements.fire.count.4p' AND locale = 'ru-RU' AND (topic_category = '' OR topic_category IS NULL)
);

UPDATE knowledge_items
SET text = 'Стихия «Огонь»: общий смысл и проявления этой стихии.', priority = 89, is_active = 1, meta_json = '{}'
WHERE key = 'natal.elements.fire' AND locale = 'ru-RU'
  AND (topic_category = '' OR topic_category IS NULL)
  AND (text IS NULL OR LENGTH(TRIM(text))=0);

INSERT INTO knowledge_items (key, topic_category, locale, text, priority, created_at, is_active, meta_json)
SELECT 'natal.elements.fire', '', 'ru-RU', 'Стихия «Огонь»: общий смысл и проявления этой стихии.', 89, CURRENT_TIMESTAMP, 1, '{}'
WHERE NOT EXISTS (
  SELECT 1 FROM knowledge_items
  WHERE key = 'natal.elements.fire' AND locale = 'ru-RU' AND (topic_category = '' OR topic_category IS NULL)
);

UPDATE knowledge_items
SET text = 'Стихия «Земля»: количество планет/точек (любой уровень).', priority = 89, is_active = 1, meta_json = '{}'
WHERE key = 'natal.elements.earth.count.any' AND locale = 'ru-RU'
  AND (topic_category = '' OR topic_category IS NULL)
  AND (text IS NULL OR LENGTH(TRIM(text))=0);

INSERT INTO knowledge_items (key, topic_category, locale, text, priority, created_at, is_active, meta_json)
SELECT 'natal.elements.earth.count.any', '', 'ru-RU', 'Стихия «Земля»: количество планет/точек (любой уровень).', 89, CURRENT_TIMESTAMP, 1, '{}'
WHERE NOT EXISTS (
  SELECT 1 FROM knowledge_items
  WHERE key = 'natal.elements.earth.count.any' AND locale = 'ru-RU' AND (topic_category = '' OR topic_category IS NULL)
);

UPDATE knowledge_items
SET text = 'Стихия «Земля»: количество попало в bucket 0.', priority = 89, is_active = 1, meta_json = '{}'
WHERE key = 'natal.elements.earth.count.0' AND locale = 'ru-RU'
  AND (topic_category = '' OR topic_category IS NULL)
  AND (text IS NULL OR LENGTH(TRIM(text))=0);

INSERT INTO knowledge_items (key, topic_category, locale, text, priority, created_at, is_active, meta_json)
SELECT 'natal.elements.earth.count.0', '', 'ru-RU', 'Стихия «Земля»: количество попало в bucket 0.', 89, CURRENT_TIMESTAMP, 1, '{}'
WHERE NOT EXISTS (
  SELECT 1 FROM knowledge_items
  WHERE key = 'natal.elements.earth.count.0' AND locale = 'ru-RU' AND (topic_category = '' OR topic_category IS NULL)
);

UPDATE knowledge_items
SET text = 'Стихия «Земля»: количество попало в bucket 1.', priority = 89, is_active = 1, meta_json = '{}'
WHERE key = 'natal.elements.earth.count.1' AND locale = 'ru-RU'
  AND (topic_category = '' OR topic_category IS NULL)
  AND (text IS NULL OR LENGTH(TRIM(text))=0);

INSERT INTO knowledge_items (key, topic_category, locale, text, priority, created_at, is_active, meta_json)
SELECT 'natal.elements.earth.count.1', '', 'ru-RU', 'Стихия «Земля»: количество попало в bucket 1.', 89, CURRENT_TIMESTAMP, 1, '{}'
WHERE NOT EXISTS (
  SELECT 1 FROM knowledge_items
  WHERE key = 'natal.elements.earth.count.1' AND locale = 'ru-RU' AND (topic_category = '' OR topic_category IS NULL)
);

UPDATE knowledge_items
SET text = 'Стихия «Земля»: количество попало в bucket 2.', priority = 89, is_active = 1, meta_json = '{}'
WHERE key = 'natal.elements.earth.count.2' AND locale = 'ru-RU'
  AND (topic_category = '' OR topic_category IS NULL)
  AND (text IS NULL OR LENGTH(TRIM(text))=0);

INSERT INTO knowledge_items (key, topic_category, locale, text, priority, created_at, is_active, meta_json)
SELECT 'natal.elements.earth.count.2', '', 'ru-RU', 'Стихия «Земля»: количество попало в bucket 2.', 89, CURRENT_TIMESTAMP, 1, '{}'
WHERE NOT EXISTS (
  SELECT 1 FROM knowledge_items
  WHERE key = 'natal.elements.earth.count.2' AND locale = 'ru-RU' AND (topic_category = '' OR topic_category IS NULL)
);

UPDATE knowledge_items
SET text = 'Стихия «Земля»: количество попало в bucket 3.', priority = 89, is_active = 1, meta_json = '{}'
WHERE key = 'natal.elements.earth.count.3' AND locale = 'ru-RU'
  AND (topic_category = '' OR topic_category IS NULL)
  AND (text IS NULL OR LENGTH(TRIM(text))=0);

INSERT INTO knowledge_items (key, topic_category, locale, text, priority, created_at, is_active, meta_json)
SELECT 'natal.elements.earth.count.3', '', 'ru-RU', 'Стихия «Земля»: количество попало в bucket 3.', 89, CURRENT_TIMESTAMP, 1, '{}'
WHERE NOT EXISTS (
  SELECT 1 FROM knowledge_items
  WHERE key = 'natal.elements.earth.count.3' AND locale = 'ru-RU' AND (topic_category = '' OR topic_category IS NULL)
);

UPDATE knowledge_items
SET text = 'Стихия «Земля»: количество попало в bucket 4p.', priority = 89, is_active = 1, meta_json = '{}'
WHERE key = 'natal.elements.earth.count.4p' AND locale = 'ru-RU'
  AND (topic_category = '' OR topic_category IS NULL)
  AND (text IS NULL OR LENGTH(TRIM(text))=0);

INSERT INTO knowledge_items (key, topic_category, locale, text, priority, created_at, is_active, meta_json)
SELECT 'natal.elements.earth.count.4p', '', 'ru-RU', 'Стихия «Земля»: количество попало в bucket 4p.', 89, CURRENT_TIMESTAMP, 1, '{}'
WHERE NOT EXISTS (
  SELECT 1 FROM knowledge_items
  WHERE key = 'natal.elements.earth.count.4p' AND locale = 'ru-RU' AND (topic_category = '' OR topic_category IS NULL)
);

UPDATE knowledge_items
SET text = 'Стихия «Земля»: общий смысл и проявления этой стихии.', priority = 89, is_active = 1, meta_json = '{}'
WHERE key = 'natal.elements.earth' AND locale = 'ru-RU'
  AND (topic_category = '' OR topic_category IS NULL)
  AND (text IS NULL OR LENGTH(TRIM(text))=0);

INSERT INTO knowledge_items (key, topic_category, locale, text, priority, created_at, is_active, meta_json)
SELECT 'natal.elements.earth', '', 'ru-RU', 'Стихия «Земля»: общий смысл и проявления этой стихии.', 89, CURRENT_TIMESTAMP, 1, '{}'
WHERE NOT EXISTS (
  SELECT 1 FROM knowledge_items
  WHERE key = 'natal.elements.earth' AND locale = 'ru-RU' AND (topic_category = '' OR topic_category IS NULL)
);

UPDATE knowledge_items
SET text = 'Стихия «Воздух»: количество планет/точек (любой уровень).', priority = 89, is_active = 1, meta_json = '{}'
WHERE key = 'natal.elements.air.count.any' AND locale = 'ru-RU'
  AND (topic_category = '' OR topic_category IS NULL)
  AND (text IS NULL OR LENGTH(TRIM(text))=0);

INSERT INTO knowledge_items (key, topic_category, locale, text, priority, created_at, is_active, meta_json)
SELECT 'natal.elements.air.count.any', '', 'ru-RU', 'Стихия «Воздух»: количество планет/точек (любой уровень).', 89, CURRENT_TIMESTAMP, 1, '{}'
WHERE NOT EXISTS (
  SELECT 1 FROM knowledge_items
  WHERE key = 'natal.elements.air.count.any' AND locale = 'ru-RU' AND (topic_category = '' OR topic_category IS NULL)
);

UPDATE knowledge_items
SET text = 'Стихия «Воздух»: количество попало в bucket 0.', priority = 89, is_active = 1, meta_json = '{}'
WHERE key = 'natal.elements.air.count.0' AND locale = 'ru-RU'
  AND (topic_category = '' OR topic_category IS NULL)
  AND (text IS NULL OR LENGTH(TRIM(text))=0);

INSERT INTO knowledge_items (key, topic_category, locale, text, priority, created_at, is_active, meta_json)
SELECT 'natal.elements.air.count.0', '', 'ru-RU', 'Стихия «Воздух»: количество попало в bucket 0.', 89, CURRENT_TIMESTAMP, 1, '{}'
WHERE NOT EXISTS (
  SELECT 1 FROM knowledge_items
  WHERE key = 'natal.elements.air.count.0' AND locale = 'ru-RU' AND (topic_category = '' OR topic_category IS NULL)
);

UPDATE knowledge_items
SET text = 'Стихия «Воздух»: количество попало в bucket 1.', priority = 89, is_active = 1, meta_json = '{}'
WHERE key = 'natal.elements.air.count.1' AND locale = 'ru-RU'
  AND (topic_category = '' OR topic_category IS NULL)
  AND (text IS NULL OR LENGTH(TRIM(text))=0);

INSERT INTO knowledge_items (key, topic_category, locale, text, priority, created_at, is_active, meta_json)
SELECT 'natal.elements.air.count.1', '', 'ru-RU', 'Стихия «Воздух»: количество попало в bucket 1.', 89, CURRENT_TIMESTAMP, 1, '{}'
WHERE NOT EXISTS (
  SELECT 1 FROM knowledge_items
  WHERE key = 'natal.elements.air.count.1' AND locale = 'ru-RU' AND (topic_category = '' OR topic_category IS NULL)
);

UPDATE knowledge_items
SET text = 'Стихия «Воздух»: количество попало в bucket 2.', priority = 89, is_active = 1, meta_json = '{}'
WHERE key = 'natal.elements.air.count.2' AND locale = 'ru-RU'
  AND (topic_category = '' OR topic_category IS NULL)
  AND (text IS NULL OR LENGTH(TRIM(text))=0);

INSERT INTO knowledge_items (key, topic_category, locale, text, priority, created_at, is_active, meta_json)
SELECT 'natal.elements.air.count.2', '', 'ru-RU', 'Стихия «Воздух»: количество попало в bucket 2.', 89, CURRENT_TIMESTAMP, 1, '{}'
WHERE NOT EXISTS (
  SELECT 1 FROM knowledge_items
  WHERE key = 'natal.elements.air.count.2' AND locale = 'ru-RU' AND (topic_category = '' OR topic_category IS NULL)
);

UPDATE knowledge_items
SET text = 'Стихия «Воздух»: количество попало в bucket 3.', priority = 89, is_active = 1, meta_json = '{}'
WHERE key = 'natal.elements.air.count.3' AND locale = 'ru-RU'
  AND (topic_category = '' OR topic_category IS NULL)
  AND (text IS NULL OR LENGTH(TRIM(text))=0);

INSERT INTO knowledge_items (key, topic_category, locale, text, priority, created_at, is_active, meta_json)
SELECT 'natal.elements.air.count.3', '', 'ru-RU', 'Стихия «Воздух»: количество попало в bucket 3.', 89, CURRENT_TIMESTAMP, 1, '{}'
WHERE NOT EXISTS (
  SELECT 1 FROM knowledge_items
  WHERE key = 'natal.elements.air.count.3' AND locale = 'ru-RU' AND (topic_category = '' OR topic_category IS NULL)
);

UPDATE knowledge_items
SET text = 'Стихия «Воздух»: количество попало в bucket 4p.', priority = 89, is_active = 1, meta_json = '{}'
WHERE key = 'natal.elements.air.count.4p' AND locale = 'ru-RU'
  AND (topic_category = '' OR topic_category IS NULL)
  AND (text IS NULL OR LENGTH(TRIM(text))=0);

INSERT INTO knowledge_items (key, topic_category, locale, text, priority, created_at, is_active, meta_json)
SELECT 'natal.elements.air.count.4p', '', 'ru-RU', 'Стихия «Воздух»: количество попало в bucket 4p.', 89, CURRENT_TIMESTAMP, 1, '{}'
WHERE NOT EXISTS (
  SELECT 1 FROM knowledge_items
  WHERE key = 'natal.elements.air.count.4p' AND locale = 'ru-RU' AND (topic_category = '' OR topic_category IS NULL)
);

UPDATE knowledge_items
SET text = 'Стихия «Воздух»: общий смысл и проявления этой стихии.', priority = 89, is_active = 1, meta_json = '{}'
WHERE key = 'natal.elements.air' AND locale = 'ru-RU'
  AND (topic_category = '' OR topic_category IS NULL)
  AND (text IS NULL OR LENGTH(TRIM(text))=0);

INSERT INTO knowledge_items (key, topic_category, locale, text, priority, created_at, is_active, meta_json)
SELECT 'natal.elements.air', '', 'ru-RU', 'Стихия «Воздух»: общий смысл и проявления этой стихии.', 89, CURRENT_TIMESTAMP, 1, '{}'
WHERE NOT EXISTS (
  SELECT 1 FROM knowledge_items
  WHERE key = 'natal.elements.air' AND locale = 'ru-RU' AND (topic_category = '' OR topic_category IS NULL)
);

UPDATE knowledge_items
SET text = 'Стихия «Вода»: количество планет/точек (любой уровень).', priority = 89, is_active = 1, meta_json = '{}'
WHERE key = 'natal.elements.water.count.any' AND locale = 'ru-RU'
  AND (topic_category = '' OR topic_category IS NULL)
  AND (text IS NULL OR LENGTH(TRIM(text))=0);

INSERT INTO knowledge_items (key, topic_category, locale, text, priority, created_at, is_active, meta_json)
SELECT 'natal.elements.water.count.any', '', 'ru-RU', 'Стихия «Вода»: количество планет/точек (любой уровень).', 89, CURRENT_TIMESTAMP, 1, '{}'
WHERE NOT EXISTS (
  SELECT 1 FROM knowledge_items
  WHERE key = 'natal.elements.water.count.any' AND locale = 'ru-RU' AND (topic_category = '' OR topic_category IS NULL)
);

UPDATE knowledge_items
SET text = 'Стихия «Вода»: количество попало в bucket 0.', priority = 89, is_active = 1, meta_json = '{}'
WHERE key = 'natal.elements.water.count.0' AND locale = 'ru-RU'
  AND (topic_category = '' OR topic_category IS NULL)
  AND (text IS NULL OR LENGTH(TRIM(text))=0);

INSERT INTO knowledge_items (key, topic_category, locale, text, priority, created_at, is_active, meta_json)
SELECT 'natal.elements.water.count.0', '', 'ru-RU', 'Стихия «Вода»: количество попало в bucket 0.', 89, CURRENT_TIMESTAMP, 1, '{}'
WHERE NOT EXISTS (
  SELECT 1 FROM knowledge_items
  WHERE key = 'natal.elements.water.count.0' AND locale = 'ru-RU' AND (topic_category = '' OR topic_category IS NULL)
);

UPDATE knowledge_items
SET text = 'Стихия «Вода»: количество попало в bucket 1.', priority = 89, is_active = 1, meta_json = '{}'
WHERE key = 'natal.elements.water.count.1' AND locale = 'ru-RU'
  AND (topic_category = '' OR topic_category IS NULL)
  AND (text IS NULL OR LENGTH(TRIM(text))=0);

INSERT INTO knowledge_items (key, topic_category, locale, text, priority, created_at, is_active, meta_json)
SELECT 'natal.elements.water.count.1', '', 'ru-RU', 'Стихия «Вода»: количество попало в bucket 1.', 89, CURRENT_TIMESTAMP, 1, '{}'
WHERE NOT EXISTS (
  SELECT 1 FROM knowledge_items
  WHERE key = 'natal.elements.water.count.1' AND locale = 'ru-RU' AND (topic_category = '' OR topic_category IS NULL)
);

UPDATE knowledge_items
SET text = 'Стихия «Вода»: количество попало в bucket 2.', priority = 89, is_active = 1, meta_json = '{}'
WHERE key = 'natal.elements.water.count.2' AND locale = 'ru-RU'
  AND (topic_category = '' OR topic_category IS NULL)
  AND (text IS NULL OR LENGTH(TRIM(text))=0);

INSERT INTO knowledge_items (key, topic_category, locale, text, priority, created_at, is_active, meta_json)
SELECT 'natal.elements.water.count.2', '', 'ru-RU', 'Стихия «Вода»: количество попало в bucket 2.', 89, CURRENT_TIMESTAMP, 1, '{}'
WHERE NOT EXISTS (
  SELECT 1 FROM knowledge_items
  WHERE key = 'natal.elements.water.count.2' AND locale = 'ru-RU' AND (topic_category = '' OR topic_category IS NULL)
);

UPDATE knowledge_items
SET text = 'Стихия «Вода»: количество попало в bucket 3.', priority = 89, is_active = 1, meta_json = '{}'
WHERE key = 'natal.elements.water.count.3' AND locale = 'ru-RU'
  AND (topic_category = '' OR topic_category IS NULL)
  AND (text IS NULL OR LENGTH(TRIM(text))=0);

INSERT INTO knowledge_items (key, topic_category, locale, text, priority, created_at, is_active, meta_json)
SELECT 'natal.elements.water.count.3', '', 'ru-RU', 'Стихия «Вода»: количество попало в bucket 3.', 89, CURRENT_TIMESTAMP, 1, '{}'
WHERE NOT EXISTS (
  SELECT 1 FROM knowledge_items
  WHERE key = 'natal.elements.water.count.3' AND locale = 'ru-RU' AND (topic_category = '' OR topic_category IS NULL)
);

UPDATE knowledge_items
SET text = 'Стихия «Вода»: количество попало в bucket 4p.', priority = 89, is_active = 1, meta_json = '{}'
WHERE key = 'natal.elements.water.count.4p' AND locale = 'ru-RU'
  AND (topic_category = '' OR topic_category IS NULL)
  AND (text IS NULL OR LENGTH(TRIM(text))=0);

INSERT INTO knowledge_items (key, topic_category, locale, text, priority, created_at, is_active, meta_json)
SELECT 'natal.elements.water.count.4p', '', 'ru-RU', 'Стихия «Вода»: количество попало в bucket 4p.', 89, CURRENT_TIMESTAMP, 1, '{}'
WHERE NOT EXISTS (
  SELECT 1 FROM knowledge_items
  WHERE key = 'natal.elements.water.count.4p' AND locale = 'ru-RU' AND (topic_category = '' OR topic_category IS NULL)
);

UPDATE knowledge_items
SET text = 'Стихия «Вода»: общий смысл и проявления этой стихии.', priority = 89, is_active = 1, meta_json = '{}'
WHERE key = 'natal.elements.water' AND locale = 'ru-RU'
  AND (topic_category = '' OR topic_category IS NULL)
  AND (text IS NULL OR LENGTH(TRIM(text))=0);

INSERT INTO knowledge_items (key, topic_category, locale, text, priority, created_at, is_active, meta_json)
SELECT 'natal.elements.water', '', 'ru-RU', 'Стихия «Вода»: общий смысл и проявления этой стихии.', 89, CURRENT_TIMESTAMP, 1, '{}'
WHERE NOT EXISTS (
  SELECT 1 FROM knowledge_items
  WHERE key = 'natal.elements.water' AND locale = 'ru-RU' AND (topic_category = '' OR topic_category IS NULL)
);

UPDATE knowledge_items
SET text = 'Стихии карты: общий баланс огня/земли/воздуха/воды.', priority = 89, is_active = 1, meta_json = '{}'
WHERE key = 'natal.elements' AND locale = 'ru-RU'
  AND (topic_category = '' OR topic_category IS NULL)
  AND (text IS NULL OR LENGTH(TRIM(text))=0);

INSERT INTO knowledge_items (key, topic_category, locale, text, priority, created_at, is_active, meta_json)
SELECT 'natal.elements', '', 'ru-RU', 'Стихии карты: общий баланс огня/земли/воздуха/воды.', 89, CURRENT_TIMESTAMP, 1, '{}'
WHERE NOT EXISTS (
  SELECT 1 FROM knowledge_items
  WHERE key = 'natal.elements' AND locale = 'ru-RU' AND (topic_category = '' OR topic_category IS NULL)
);

UPDATE knowledge_items
SET text = 'Доминирующая стихия: общий ресурс (любой вариант).', priority = 89, is_active = 1, meta_json = '{}'
WHERE key = 'natal.elements.dominant.any' AND locale = 'ru-RU'
  AND (topic_category = '' OR topic_category IS NULL)
  AND (text IS NULL OR LENGTH(TRIM(text))=0);

INSERT INTO knowledge_items (key, topic_category, locale, text, priority, created_at, is_active, meta_json)
SELECT 'natal.elements.dominant.any', '', 'ru-RU', 'Доминирующая стихия: общий ресурс (любой вариант).', 89, CURRENT_TIMESTAMP, 1, '{}'
WHERE NOT EXISTS (
  SELECT 1 FROM knowledge_items
  WHERE key = 'natal.elements.dominant.any' AND locale = 'ru-RU' AND (topic_category = '' OR topic_category IS NULL)
);

UPDATE knowledge_items
SET text = 'Дефицит стихии: зона развития (любой вариант).', priority = 89, is_active = 1, meta_json = '{}'
WHERE key = 'natal.elements.deficient.any' AND locale = 'ru-RU'
  AND (topic_category = '' OR topic_category IS NULL)
  AND (text IS NULL OR LENGTH(TRIM(text))=0);

INSERT INTO knowledge_items (key, topic_category, locale, text, priority, created_at, is_active, meta_json)
SELECT 'natal.elements.deficient.any', '', 'ru-RU', 'Дефицит стихии: зона развития (любой вариант).', 89, CURRENT_TIMESTAMP, 1, '{}'
WHERE NOT EXISTS (
  SELECT 1 FROM knowledge_items
  WHERE key = 'natal.elements.deficient.any' AND locale = 'ru-RU' AND (topic_category = '' OR topic_category IS NULL)
);

UPDATE knowledge_items
SET text = 'Доминирующая стихия — «Огонь».', priority = 89, is_active = 1, meta_json = '{}'
WHERE key = 'natal.elements.dominant.fire' AND locale = 'ru-RU'
  AND (topic_category = '' OR topic_category IS NULL)
  AND (text IS NULL OR LENGTH(TRIM(text))=0);

INSERT INTO knowledge_items (key, topic_category, locale, text, priority, created_at, is_active, meta_json)
SELECT 'natal.elements.dominant.fire', '', 'ru-RU', 'Доминирующая стихия — «Огонь».', 89, CURRENT_TIMESTAMP, 1, '{}'
WHERE NOT EXISTS (
  SELECT 1 FROM knowledge_items
  WHERE key = 'natal.elements.dominant.fire' AND locale = 'ru-RU' AND (topic_category = '' OR topic_category IS NULL)
);

UPDATE knowledge_items
SET text = 'Дефицит стихии — «Огонь».', priority = 89, is_active = 1, meta_json = '{}'
WHERE key = 'natal.elements.deficient.fire' AND locale = 'ru-RU'
  AND (topic_category = '' OR topic_category IS NULL)
  AND (text IS NULL OR LENGTH(TRIM(text))=0);

INSERT INTO knowledge_items (key, topic_category, locale, text, priority, created_at, is_active, meta_json)
SELECT 'natal.elements.deficient.fire', '', 'ru-RU', 'Дефицит стихии — «Огонь».', 89, CURRENT_TIMESTAMP, 1, '{}'
WHERE NOT EXISTS (
  SELECT 1 FROM knowledge_items
  WHERE key = 'natal.elements.deficient.fire' AND locale = 'ru-RU' AND (topic_category = '' OR topic_category IS NULL)
);

UPDATE knowledge_items
SET text = 'Доминирующая стихия — «Земля».', priority = 89, is_active = 1, meta_json = '{}'
WHERE key = 'natal.elements.dominant.earth' AND locale = 'ru-RU'
  AND (topic_category = '' OR topic_category IS NULL)
  AND (text IS NULL OR LENGTH(TRIM(text))=0);

INSERT INTO knowledge_items (key, topic_category, locale, text, priority, created_at, is_active, meta_json)
SELECT 'natal.elements.dominant.earth', '', 'ru-RU', 'Доминирующая стихия — «Земля».', 89, CURRENT_TIMESTAMP, 1, '{}'
WHERE NOT EXISTS (
  SELECT 1 FROM knowledge_items
  WHERE key = 'natal.elements.dominant.earth' AND locale = 'ru-RU' AND (topic_category = '' OR topic_category IS NULL)
);

UPDATE knowledge_items
SET text = 'Дефицит стихии — «Земля».', priority = 89, is_active = 1, meta_json = '{}'
WHERE key = 'natal.elements.deficient.earth' AND locale = 'ru-RU'
  AND (topic_category = '' OR topic_category IS NULL)
  AND (text IS NULL OR LENGTH(TRIM(text))=0);

INSERT INTO knowledge_items (key, topic_category, locale, text, priority, created_at, is_active, meta_json)
SELECT 'natal.elements.deficient.earth', '', 'ru-RU', 'Дефицит стихии — «Земля».', 89, CURRENT_TIMESTAMP, 1, '{}'
WHERE NOT EXISTS (
  SELECT 1 FROM knowledge_items
  WHERE key = 'natal.elements.deficient.earth' AND locale = 'ru-RU' AND (topic_category = '' OR topic_category IS NULL)
);

UPDATE knowledge_items
SET text = 'Доминирующая стихия — «Воздух».', priority = 89, is_active = 1, meta_json = '{}'
WHERE key = 'natal.elements.dominant.air' AND locale = 'ru-RU'
  AND (topic_category = '' OR topic_category IS NULL)
  AND (text IS NULL OR LENGTH(TRIM(text))=0);

INSERT INTO knowledge_items (key, topic_category, locale, text, priority, created_at, is_active, meta_json)
SELECT 'natal.elements.dominant.air', '', 'ru-RU', 'Доминирующая стихия — «Воздух».', 89, CURRENT_TIMESTAMP, 1, '{}'
WHERE NOT EXISTS (
  SELECT 1 FROM knowledge_items
  WHERE key = 'natal.elements.dominant.air' AND locale = 'ru-RU' AND (topic_category = '' OR topic_category IS NULL)
);

UPDATE knowledge_items
SET text = 'Дефицит стихии — «Воздух».', priority = 89, is_active = 1, meta_json = '{}'
WHERE key = 'natal.elements.deficient.air' AND locale = 'ru-RU'
  AND (topic_category = '' OR topic_category IS NULL)
  AND (text IS NULL OR LENGTH(TRIM(text))=0);

INSERT INTO knowledge_items (key, topic_category, locale, text, priority, created_at, is_active, meta_json)
SELECT 'natal.elements.deficient.air', '', 'ru-RU', 'Дефицит стихии — «Воздух».', 89, CURRENT_TIMESTAMP, 1, '{}'
WHERE NOT EXISTS (
  SELECT 1 FROM knowledge_items
  WHERE key = 'natal.elements.deficient.air' AND locale = 'ru-RU' AND (topic_category = '' OR topic_category IS NULL)
);

UPDATE knowledge_items
SET text = 'Доминирующая стихия — «Вода».', priority = 89, is_active = 1, meta_json = '{}'
WHERE key = 'natal.elements.dominant.water' AND locale = 'ru-RU'
  AND (topic_category = '' OR topic_category IS NULL)
  AND (text IS NULL OR LENGTH(TRIM(text))=0);

INSERT INTO knowledge_items (key, topic_category, locale, text, priority, created_at, is_active, meta_json)
SELECT 'natal.elements.dominant.water', '', 'ru-RU', 'Доминирующая стихия — «Вода».', 89, CURRENT_TIMESTAMP, 1, '{}'
WHERE NOT EXISTS (
  SELECT 1 FROM knowledge_items
  WHERE key = 'natal.elements.dominant.water' AND locale = 'ru-RU' AND (topic_category = '' OR topic_category IS NULL)
);

UPDATE knowledge_items
SET text = 'Дефицит стихии — «Вода».', priority = 89, is_active = 1, meta_json = '{}'
WHERE key = 'natal.elements.deficient.water' AND locale = 'ru-RU'
  AND (topic_category = '' OR topic_category IS NULL)
  AND (text IS NULL OR LENGTH(TRIM(text))=0);

INSERT INTO knowledge_items (key, topic_category, locale, text, priority, created_at, is_active, meta_json)
SELECT 'natal.elements.deficient.water', '', 'ru-RU', 'Дефицит стихии — «Вода».', 89, CURRENT_TIMESTAMP, 1, '{}'
WHERE NOT EXISTS (
  SELECT 1 FROM knowledge_items
  WHERE key = 'natal.elements.deficient.water' AND locale = 'ru-RU' AND (topic_category = '' OR topic_category IS NULL)
);

UPDATE knowledge_items
SET text = 'Баланс инь/ян: общий вариант (любой).', priority = 89, is_active = 1, meta_json = '{}'
WHERE key = 'natal.polarity.balance.any' AND locale = 'ru-RU'
  AND (topic_category = '' OR topic_category IS NULL)
  AND (text IS NULL OR LENGTH(TRIM(text))=0);

INSERT INTO knowledge_items (key, topic_category, locale, text, priority, created_at, is_active, meta_json)
SELECT 'natal.polarity.balance.any', '', 'ru-RU', 'Баланс инь/ян: общий вариант (любой).', 89, CURRENT_TIMESTAMP, 1, '{}'
WHERE NOT EXISTS (
  SELECT 1 FROM knowledge_items
  WHERE key = 'natal.polarity.balance.any' AND locale = 'ru-RU' AND (topic_category = '' OR topic_category IS NULL)
);

UPDATE knowledge_items
SET text = 'Баланс инь/ян: инь.', priority = 89, is_active = 1, meta_json = '{}'
WHERE key = 'natal.polarity.balance.yin' AND locale = 'ru-RU'
  AND (topic_category = '' OR topic_category IS NULL)
  AND (text IS NULL OR LENGTH(TRIM(text))=0);

INSERT INTO knowledge_items (key, topic_category, locale, text, priority, created_at, is_active, meta_json)
SELECT 'natal.polarity.balance.yin', '', 'ru-RU', 'Баланс инь/ян: инь.', 89, CURRENT_TIMESTAMP, 1, '{}'
WHERE NOT EXISTS (
  SELECT 1 FROM knowledge_items
  WHERE key = 'natal.polarity.balance.yin' AND locale = 'ru-RU' AND (topic_category = '' OR topic_category IS NULL)
);

UPDATE knowledge_items
SET text = 'Баланс инь/ян: ян.', priority = 89, is_active = 1, meta_json = '{}'
WHERE key = 'natal.polarity.balance.yang' AND locale = 'ru-RU'
  AND (topic_category = '' OR topic_category IS NULL)
  AND (text IS NULL OR LENGTH(TRIM(text))=0);

INSERT INTO knowledge_items (key, topic_category, locale, text, priority, created_at, is_active, meta_json)
SELECT 'natal.polarity.balance.yang', '', 'ru-RU', 'Баланс инь/ян: ян.', 89, CURRENT_TIMESTAMP, 1, '{}'
WHERE NOT EXISTS (
  SELECT 1 FROM knowledge_items
  WHERE key = 'natal.polarity.balance.yang' AND locale = 'ru-RU' AND (topic_category = '' OR topic_category IS NULL)
);

UPDATE knowledge_items
SET text = 'Баланс инь/ян: баланс.', priority = 89, is_active = 1, meta_json = '{}'
WHERE key = 'natal.polarity.balance.balanced' AND locale = 'ru-RU'
  AND (topic_category = '' OR topic_category IS NULL)
  AND (text IS NULL OR LENGTH(TRIM(text))=0);

INSERT INTO knowledge_items (key, topic_category, locale, text, priority, created_at, is_active, meta_json)
SELECT 'natal.polarity.balance.balanced', '', 'ru-RU', 'Баланс инь/ян: баланс.', 89, CURRENT_TIMESTAMP, 1, '{}'
WHERE NOT EXISTS (
  SELECT 1 FROM knowledge_items
  WHERE key = 'natal.polarity.balance.balanced' AND locale = 'ru-RU' AND (topic_category = '' OR topic_category IS NULL)
);

UPDATE knowledge_items
SET text = 'Полярность карты: общий баланс инь/ян.', priority = 89, is_active = 1, meta_json = '{}'
WHERE key = 'natal.polarity' AND locale = 'ru-RU'
  AND (topic_category = '' OR topic_category IS NULL)
  AND (text IS NULL OR LENGTH(TRIM(text))=0);

INSERT INTO knowledge_items (key, topic_category, locale, text, priority, created_at, is_active, meta_json)
SELECT 'natal.polarity', '', 'ru-RU', 'Полярность карты: общий баланс инь/ян.', 89, CURRENT_TIMESTAMP, 1, '{}'
WHERE NOT EXISTS (
  SELECT 1 FROM knowledge_items
  WHERE key = 'natal.polarity' AND locale = 'ru-RU' AND (topic_category = '' OR topic_category IS NULL)
);

UPDATE knowledge_items
SET text = 'Баланс модальностей: общий вариант (любой).', priority = 89, is_active = 1, meta_json = '{}'
WHERE key = 'natal.modality.balance.any' AND locale = 'ru-RU'
  AND (topic_category = '' OR topic_category IS NULL)
  AND (text IS NULL OR LENGTH(TRIM(text))=0);

INSERT INTO knowledge_items (key, topic_category, locale, text, priority, created_at, is_active, meta_json)
SELECT 'natal.modality.balance.any', '', 'ru-RU', 'Баланс модальностей: общий вариант (любой).', 89, CURRENT_TIMESTAMP, 1, '{}'
WHERE NOT EXISTS (
  SELECT 1 FROM knowledge_items
  WHERE key = 'natal.modality.balance.any' AND locale = 'ru-RU' AND (topic_category = '' OR topic_category IS NULL)
);

UPDATE knowledge_items
SET text = 'Баланс модальностей: кардинальная.', priority = 89, is_active = 1, meta_json = '{}'
WHERE key = 'natal.modality.balance.cardinal' AND locale = 'ru-RU'
  AND (topic_category = '' OR topic_category IS NULL)
  AND (text IS NULL OR LENGTH(TRIM(text))=0);

INSERT INTO knowledge_items (key, topic_category, locale, text, priority, created_at, is_active, meta_json)
SELECT 'natal.modality.balance.cardinal', '', 'ru-RU', 'Баланс модальностей: кардинальная.', 89, CURRENT_TIMESTAMP, 1, '{}'
WHERE NOT EXISTS (
  SELECT 1 FROM knowledge_items
  WHERE key = 'natal.modality.balance.cardinal' AND locale = 'ru-RU' AND (topic_category = '' OR topic_category IS NULL)
);

UPDATE knowledge_items
SET text = 'Баланс модальностей: фиксированная.', priority = 89, is_active = 1, meta_json = '{}'
WHERE key = 'natal.modality.balance.fixed' AND locale = 'ru-RU'
  AND (topic_category = '' OR topic_category IS NULL)
  AND (text IS NULL OR LENGTH(TRIM(text))=0);

INSERT INTO knowledge_items (key, topic_category, locale, text, priority, created_at, is_active, meta_json)
SELECT 'natal.modality.balance.fixed', '', 'ru-RU', 'Баланс модальностей: фиксированная.', 89, CURRENT_TIMESTAMP, 1, '{}'
WHERE NOT EXISTS (
  SELECT 1 FROM knowledge_items
  WHERE key = 'natal.modality.balance.fixed' AND locale = 'ru-RU' AND (topic_category = '' OR topic_category IS NULL)
);

UPDATE knowledge_items
SET text = 'Баланс модальностей: мутабельная.', priority = 89, is_active = 1, meta_json = '{}'
WHERE key = 'natal.modality.balance.mutable' AND locale = 'ru-RU'
  AND (topic_category = '' OR topic_category IS NULL)
  AND (text IS NULL OR LENGTH(TRIM(text))=0);

INSERT INTO knowledge_items (key, topic_category, locale, text, priority, created_at, is_active, meta_json)
SELECT 'natal.modality.balance.mutable', '', 'ru-RU', 'Баланс модальностей: мутабельная.', 89, CURRENT_TIMESTAMP, 1, '{}'
WHERE NOT EXISTS (
  SELECT 1 FROM knowledge_items
  WHERE key = 'natal.modality.balance.mutable' AND locale = 'ru-RU' AND (topic_category = '' OR topic_category IS NULL)
);

UPDATE knowledge_items
SET text = 'Баланс модальностей: баланс.', priority = 89, is_active = 1, meta_json = '{}'
WHERE key = 'natal.modality.balance.balanced' AND locale = 'ru-RU'
  AND (topic_category = '' OR topic_category IS NULL)
  AND (text IS NULL OR LENGTH(TRIM(text))=0);

INSERT INTO knowledge_items (key, topic_category, locale, text, priority, created_at, is_active, meta_json)
SELECT 'natal.modality.balance.balanced', '', 'ru-RU', 'Баланс модальностей: баланс.', 89, CURRENT_TIMESTAMP, 1, '{}'
WHERE NOT EXISTS (
  SELECT 1 FROM knowledge_items
  WHERE key = 'natal.modality.balance.balanced' AND locale = 'ru-RU' AND (topic_category = '' OR topic_category IS NULL)
);

UPDATE knowledge_items
SET text = 'Модальность карты: общий баланс кардинальная/фиксированная/мутабельная.', priority = 89, is_active = 1, meta_json = '{}'
WHERE key = 'natal.modality' AND locale = 'ru-RU'
  AND (topic_category = '' OR topic_category IS NULL)
  AND (text IS NULL OR LENGTH(TRIM(text))=0);

INSERT INTO knowledge_items (key, topic_category, locale, text, priority, created_at, is_active, meta_json)
SELECT 'natal.modality', '', 'ru-RU', 'Модальность карты: общий баланс кардинальная/фиксированная/мутабельная.', 89, CURRENT_TIMESTAMP, 1, '{}'
WHERE NOT EXISTS (
  SELECT 1 FROM knowledge_items
  WHERE key = 'natal.modality' AND locale = 'ru-RU' AND (topic_category = '' OR topic_category IS NULL)
);

COMMIT;

