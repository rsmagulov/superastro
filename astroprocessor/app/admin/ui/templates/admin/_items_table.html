<!-- app/admin/ui/templates/admin/_items_table.html -->
<table class="tbl">
  <thead>
    <tr>
      <th><input type="checkbox" onclick="document.querySelectorAll('.row-check').forEach(x=>x.checked=this.checked)"></th>
      <th>id</th>
      <th>key</th>
      <th>topic</th>
      <th>active</th>
      <th>priority</th>
      <th>tone</th>
      <th>abstraction</th>
      <th>tags</th>
      <th>created_at</th>
    </tr>
  </thead>
  <tbody>
  {% for it in items %}
    <tr
      hx-get="/admin/ui/items/editor/{{ it.id }}"
      hx-target="#item-editor"
      hx-swap="outerHTML"
    >
      <td><input class="row-check" type="checkbox" name="ids" value="{{ it.id }}"></td>
      <td>{{ it.id }}</td>
      <td class="mono">{{ it.key }}</td>
      <td class="mono">{{ it.topic_category or "NULL" }}</td>
      <td>{{ 1 if it.is_active else 0 }}</td>
      <td>{{ it.priority }}</td>
      <td>{{ (it.meta.tone if it.meta else "") }}</td>
      <td>{{ (it.meta.abstraction_level if it.meta else "") }}</td>
      <td>{{ (it.meta.tags|join(", ") if it.meta and it.meta.tags else "") }}</td>
      <td>{{ it.created_at }}</td>
    </tr>
  {% endfor %}
  </tbody>
</table>
